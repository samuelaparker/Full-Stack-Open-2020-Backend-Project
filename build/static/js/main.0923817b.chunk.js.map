{"version":3,"sources":["services/persons.js","components/Notification.js","components/ErrorMessage.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","className","ErrorMessage","Filter","props","value","filterInput","onChange","handleFilterInput","PersonForm","onSubmit","addPerson","newName","handleNameInput","newNumber","handleNumberInput","type","Person","name","number","onClick","deletePerson","App","useState","persons","setPersons","setNewName","setNumber","setFilterInput","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","filteredPeople","map","n","filter","toLocaleLowerCase","includes","useEffect","personService","console","log","event","target","preventDefault","personObject","length","some","trim","window","confirm","contact","find","changedContact","returnedContact","person","setTimeout","catch","error","concat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qNACMA,EAAU,eAwBD,EAtBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAoB9B,EAjBA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAe9B,EAZA,SAACG,EAAIF,GAEhB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAU9B,EAPQ,SAACG,GAEpB,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,aAA4BQ,IAC7BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCP9BM,EAXM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACO,KAGP,qBAAKC,UAAU,eAAf,SACKD,KCKEE,EAXM,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACO,KAGP,qBAAKC,UAAU,gBAAf,SACKD,KC8HPG,EAAS,SAACC,GAEd,OACE,qDAEE,uBACEC,MAAOD,EAAME,YACbC,SAAUH,EAAMI,wBAMlBC,EAAa,SAACL,GAClB,OACE,8BACE,uBAAMM,SAAUN,EAAMO,UAAtB,UACE,yCACQ,uBACJN,MAAOD,EAAMQ,QACbL,SAAUH,EAAMS,qBAGpB,2CACU,uBACNR,MAAOD,EAAMU,UACbP,SAAUH,EAAMW,uBAGpB,8BACE,wBAAQC,KAAK,SAAb,yBAQJC,EAAS,SAACb,GACd,OACE,8BACE,gCACGA,EAAMc,KADT,IACgBd,EAAMe,OACpB,wBAAQC,QAAShB,EAAMiB,aAAvB,0BAOOC,EAnLH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETX,EAFS,KAEAc,EAFA,OAGeH,mBAAS,IAHxB,mBAGTT,EAHS,KAGEa,EAHF,OAIsBJ,mBAAS,IAJ/B,mBAITjB,EAJS,KAIIsB,EAJJ,OAKsCL,mBAAS,MAL/C,mBAKTM,EALS,KAKYC,EALZ,OAMwBP,mBAAS,MANjC,mBAMTQ,EANS,KAMKC,EANL,KAQVC,EAAiBT,EAAQU,KAAI,SAAAC,GAAC,OAAIA,KAAGC,QAAO,SAAAD,GAAC,OAAIA,EAAEjB,KAAKmB,oBAAoBC,SAAShC,EAAY+B,wBAEvGE,qBAAU,WACRC,IAEGjD,MAAK,SAAAC,GACJiC,EAAWjC,QAEd,IACLiD,QAAQC,IAAIlB,GA+EV,OACE,gCACE,2CACA,cAAC,EAAD,CAAcxB,QAAS6B,IACvB,cAAC,EAAD,CAAc7B,QAAS+B,IACvB,cAAC,EAAD,CACEzB,YAAaA,EACbE,kBA/BoB,SAACmC,GACzBf,EAAee,EAAMC,OAAOvC,UAgC1B,2CACA,cAAC,EAAD,CACEmB,QAASA,EACTZ,QAASA,EACTE,UAAWA,EACXH,UA5FY,SAACgC,GACjBA,EAAME,iBACN,IAAMC,EAAe,CACnB5B,KAAMN,EACNO,OAAQL,EACRlB,GAAI4B,EAAQuB,OAAS,GAEvB,GAAIvB,EAAQwB,MAAK,SAAAb,GAAC,OAAIA,EAAEjB,KAAKmB,sBAAwBzB,EAAQqC,OAAOZ,wBAAwBb,EAAQwB,MAAK,SAAAb,GAAC,OAAIA,EAAEhB,SAAWL,KAAY,CACrIoC,OAAOC,QAAP,UAAkBvC,EAAlB,4EACA,IAAMwC,EAAU5B,EAAQ6B,MAAK,SAAAlB,GAAC,OAAIA,EAAEjB,KAAKmB,sBAAwBzB,EAAQqC,OAAOZ,uBAC1EiB,EAAc,2BAAQF,GAAR,IAAiBjC,OAAQL,IAC7C0B,EACUc,EAAe1D,GAAI0D,GAC1B/D,MAAK,SAAAgE,GACJ9B,EAAWD,EAAQU,KAAI,SAAAsB,GAAM,OAAIA,EAAOtC,OAASoC,EAAepC,KAAOsC,EAASD,MAChFzB,EAAuB,WAAD,OAAYsB,EAAQlC,OAC1CuC,YAAW,WACT3B,EAAuB,QACtB,KACHJ,EAAW,IACXC,EAAU,OAEX+B,OAAM,SAAAC,GACL3B,EAAgB,cAAD,OAAeoB,EAAQlC,KAAvB,iCACfuC,YAAW,WACTzB,EAAgB,QACf,aAMPQ,EACUM,GACPvD,MAAK,SAAAC,GACJiC,EAAWD,EAAQoC,OAAOpE,IAC1BsC,EAAuB,SAAD,OAAUgB,EAAa5B,OAC7CuC,YAAW,WACT3B,EAAuB,QACtB,KACHJ,EAAW,IACXC,EAAU,QAoDZd,gBA9CkB,SAAC8B,GACvBjB,EAAWiB,EAAMC,OAAOvC,QA8CpBU,kBA5CoB,SAAC4B,GACzBhB,EAAUgB,EAAMC,OAAOvC,UA6CrB,gCACE,0CACC4B,EAAeC,KAAI,SAACsB,GAAD,OAClB,cAAC,EAAD,CAEEtC,KAAMsC,EAAOtC,KACbC,OAAQqC,EAAOrC,OACfE,aAAc,kBA7CH,SAACzB,GACpB,IAAI4D,EAAShC,EAAQ6B,MAAK,SAAAlB,GAAC,OAAIA,EAAEvC,KAAOA,KACpCsD,OAAOC,QAAP,0CAAkDK,EAAOtC,KAAzD,OACFsB,EACkB5C,GACfL,MAAK,WACJkC,EAAWD,EAAQY,QAAO,SAAAD,GAAC,OAAIA,EAAEvC,KAAOA,MACxCkC,EAAuB,WAAD,OAAY0B,EAAOtC,OACzCuC,YAAW,WACT3B,EAAuB,QACtB,KACHW,QAAQC,IAAIlB,MAEbkC,OAAM,SAAAC,GACLlB,QAAQC,IAAIiB,MA+BUtC,CAAamC,EAAO5D,MAHnC4D,EAAO5D,cC/GTiE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBxE,MAAK,YAAkD,IAA/CyE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.0923817b.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteResource = (id) => {\n    const request = axios.delete(`${baseUrl}/:${id}`)\n    return request.then(response => response.data)\n}\n\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, update, deleteResource  }\n\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className=\"notification\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorMessage = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className=\"error_message\">\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorMessage","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNumber] = useState('')\n  const [filterInput, setFilterInput] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const filteredPeople = persons.map(n => n).filter(n => n.name.toLocaleLowerCase().includes(filterInput.toLocaleLowerCase()))\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\nconsole.log(persons)\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    }\n    if (persons.some(n => n.name.toLocaleLowerCase() === newName.trim().toLocaleLowerCase()) || persons.some(n => n.number === newNumber)) {\n      window.confirm(`${newName} is already added to the phonebook would you like to update the number?`)\n      const contact = persons.find(n => n.name.toLocaleLowerCase() === newName.trim().toLocaleLowerCase())\n      const changedContact = { ...contact, number: newNumber }\n      personService\n        .update(changedContact.id, changedContact)\n        .then(returnedContact => {\n          setPersons(persons.map(person => person.name !== changedContact.name ? person : returnedContact))\n          setNotificationMessage(`Updated ${contact.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 3000)\n          setNewName('')\n          setNumber('')\n        })\n        .catch(error => { \n          setErrorMessage(`Contact of ${contact.name} already removed from server`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        })\n\n    }\n\n    else {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setNotificationMessage(`Added ${personObject.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 3000)\n          setNewName('')\n          setNumber('')\n        })\n\n    }\n  }\n\n  const handleNameInput = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberInput = (event) => {\n    setNumber(event.target.value)\n  }\n\n  const handleFilterInput = (event) => {\n    setFilterInput(event.target.value)\n  }\n\n  const deletePerson = (id) => {\n    let person = persons.find(n => n.id === id)\n    if (window.confirm(`Are you sure you want to delete ${person.name}?`)) {\n      personService\n        .deleteResource(id)\n        .then(() => {\n          setPersons(persons.filter(n => n.id !== id))\n          setNotificationMessage(`Deleted ${person.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 3000)\n          console.log(persons)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notificationMessage} />\n      <ErrorMessage message={errorMessage} />\n      <Filter\n        filterInput={filterInput}\n        handleFilterInput={handleFilterInput}\n      />\n      <h2>add a new</h2>\n      <PersonForm\n        persons={persons}\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n        handleNameInput={handleNameInput}\n        handleNumberInput={handleNumberInput}\n      />\n      <div>\n        <h3>Numbers:</h3>\n        {filteredPeople.map((person) =>\n          <Person\n            key={person.id}\n            name={person.name}\n            number={person.number}\n            deletePerson={() => deletePerson(person.id)}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nconst Filter = (props) => {\n\n  return (\n    <div>\n      filter shown with:\n      <input\n        value={props.filterInput}\n        onChange={props.handleFilterInput}\n      />\n    </div>\n  )\n}\n\nconst PersonForm = (props) => {\n  return (\n    <div>\n      <form onSubmit={props.addPerson} >\n        <div>\n          name: <input\n            value={props.newName}\n            onChange={props.handleNameInput}\n          />\n        </div>\n        <div>\n          number: <input\n            value={props.newNumber}\n            onChange={props.handleNumberInput}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n\n}\n\nconst Person = (props) => {\n  return (\n    <div>\n      <div>\n        {props.name} {props.number}\n        <button onClick={props.deletePerson}>Delete</button>\n      </div>\n    </div>\n\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}